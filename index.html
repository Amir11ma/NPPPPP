<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>مترجم آنلاین با API</title>
<style>
  body { font-family: Arial; padding: 20px; background: #f0f0f0; }
  textarea { width: 100%; height: 100px; margin-bottom: 10px; }
  select, button { padding: 10px; margin-top: 10px; }
  #result { margin-top: 20px; padding: 10px; background: #fff; border: 1px solid #ccc; min-height: 50px; }
</style>
</head>
<body>

<h2>مترجم آنلاین</h2>

<textarea id="text" placeholder="متن خود را وارد کنید..."></textarea><br>

<select id="lang">
  <option value="en">انگلیسی</option>
  <option value="es">اسپانیایی</option>
  <option value="fr">فرانسوی</option>
</select><br>

<button onclick="translateText()">ترجمه</button>

<div id="result">نتیجه ترجمه اینجا نمایش داده می‌شود</div>

<script>
async function translateText() {
    const text = document.getElementById('text').value.trim();
    const target = document.getElementById('lang').value;
    if(!text) {
        alert("لطفاً متن وارد کنید");
        return;
    }

    try {
        // استفاده از MyMemory API
        const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=fa|${target}`);
        const data = await response.json();
        document.getElementById('result').innerText = data.responseData.translatedText;
    } catch (err) {
        document.getElementById('result').innerText = "خطا در ترجمه. دوباره امتحان کنید.";
        console.error(err);
    }
}
</script>

</body>
</html>
